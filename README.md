# Отчет по Лабораторной работе №2. Интеграционное тестирование

Выполнила Ходакова Мария Александровна

ИСУ 409800

Группа K3323

tg: @m_inf

### Выбор проекта

Для выполнения лабораторной работы я выбрала проект FastAPI-CRUD-Todo. В проекте есть несколько взаимосвязанных модулей, что позволяет удобно продемонстрировать интеграционное тестирование.

В проекте используется SQLite и библиотека SQLAlchemy, значит, есть интеграция:
API - бизнес-логика - база данных - ответ.

Приложение работает с сущностью “задача” (ToDo) и поддерживает CRUD: создание, чтение, обновление и удаление.

### Анализ взаимодействий

Ключевые точки интеграции:

1. API - HTTP-слой - routers

(В файле routers/todo.py определены HTTP-эндпоинты (для создания, получения, обновления, удаления задач))

Клиент делает HTTP-запрос на endpoint, запрос попадает в FastAPI-приложение, попадает в соответствующий роутер.

2. Router - Схемы данных (валидация и сериализация) - Pydantic-схемы

В проекте есть файл schemas.py, в котором описаны Pydantic-модели для входящих и исходящих данных. 

При получении запроса API данные валидируются спо схемам, при отдаче ответа сериализуются в нужный формат.

3. Схемы - ORM-модели - SQLAlchemy
  
   (модель - база данных)

В файле models.py описаны SQLAlchemy-модели, которые соответствуют структуре таблицы в базе данных.

Когда приходит запрос (после валидации), роутер / бизнес-логика создают/модифицируют/удаляют ORM-объекты - SQLAlchemy взаимодействует с SQLite: делает INSERT, UPDATE, DELETE, SELECT и т. д. Через сессию.

4. Database setup & connection (инициализация и сессии) - ORM - API

В файле database.py есть конфигурация подключения к SQLite, создание сессии, управление соединением с БД.

При обращении через API: получение сессии, выполнение операции через ORM, commit, возврат результата, сериализация и возврат клиенту.
